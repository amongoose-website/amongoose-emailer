extends ./themes/dash.pug

block head
    title #{pageTitle} | Mongoose Mailer

block content
    if email.status == 'uploading'
        p Status: #[button.btn.btn-outline-warning.btn-sm.disabled Uploading]
    if email.status == 'not uploaded'
        p Status: #[a(href=`${email.fileName}/goLive`) #[button.btn.btn-outline-primary.btn-sm Not uploaded]]
    if email.status == 'uploaded'
        p Status #[a(href=`https://amongoose.com/posts/${email.fileName}`) #[button.btn.btn-outline-success.btn-sm Live]]

        if email.sentNotifications.length < 1
            p No notifications have been sent. #[a(href=`${email.fileName}/notify`) #[button.btn.btn-primary.btn-sm Send notifications]]
        else
            p #[button.btn.btn-outline-success.btn-sm=email.sentNotifications.length] notifications have been sent.
    h5 Content
    div.border.rounded.p-2.text-center!=post.html
    pre=JSON.stringify(email.parsedEmail.attachments, null, 4)